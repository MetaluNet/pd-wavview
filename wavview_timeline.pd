#N struct 1005-main float x array marks 1005-mark 1 array front-marks 1005-mark 1 array front-regions 1005-region 1 array regions 1005-region 1;
#N struct 1005-mark float x float y float color text time;
#N struct 1005-region float x1 float x2 float y float width float color;
#N canvas 1287 28 450 251 12;
#X obj 10 6 namecanvas \$0-canvas;
#N canvas 0 0 425 142 credits 0;
#X obj 13 105 pdcontrol;
#X msg 13 79 browse https://github.com/metalunet/pd-wavview;
#X text 11 17 antoine@metalu.net 2025;
#X text 11 57 project page (report issues there):;
#X connect 1 0 0 0;
#X restore 336 5 pd credits;
#N canvas 109 240 917 494 init-display 0;
#X obj 628 136 pointer;
#X obj 628 85 symbol pd-\$0-display;
#X msg 628 112 traverse \$1 \, bang;
#X msg 778 83 clear;
#X obj 778 108 s pd-\$0-display;
#X obj 32 32 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 32 6 loadbang;
#X text 99 7 init display;
#X obj 181 85 list \$2 \$3;
#X obj 181 110 unpack f f;
#X obj 181 135 sel 0;
#X msg 181 160 400;
#X obj 248 133 sel 0;
#X obj 181 214 s \$0-size;
#X obj 32 59 t a a b b b b, f 107;
#X obj 592 458 pointer;
#X obj 592 407 symbol pd-\$0-display;
#X obj 32 318 s \$0-scroll;
#X obj 122 319 s \$0-zoom;
#X msg 32 293 0;
#X msg 122 295 1;
#X obj 32 208 b;
#X obj 611 381 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 592 434 traverse \$1 \, next;
#X msg 248 158 20;
#X obj 151 93 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 741 461 append \$0-mark x, f 21;
#X obj 741 411 until;
#X msg 741 388 20;
#X msg 741 436 -0.5;
#X obj 592 484 s \$0-firstmark-pointer;
#X msg 196 293 44100;
#X obj 196 319 s \$0-samplerate;
#X obj 181 189 pack f 14;
#X msg 479 138 0;
#X obj 479 163 append \$0-main x, f 21;
#X obj 479 188 s \$0-display-pointer;
#X obj 516 222 r \$0-display-pointer;
#X obj 330 247 setsize \$0-main front-marks;
#X msg 330 221 2;
#X connect 0 0 35 1;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 3 0 4 0;
#X connect 5 0 14 0;
#X connect 6 0 5 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 9 1 12 0;
#X connect 10 0 11 0;
#X connect 10 1 33 0;
#X connect 11 0 33 0;
#X connect 12 0 24 0;
#X connect 14 0 21 0;
#X connect 14 1 8 0;
#X connect 14 2 39 0;
#X connect 14 3 34 0;
#X connect 14 4 1 0;
#X connect 14 5 3 0;
#X connect 15 0 30 0;
#X connect 16 0 23 0;
#X connect 19 0 17 0;
#X connect 20 0 18 0;
#X connect 21 0 19 0;
#X connect 21 0 20 0;
#X connect 21 0 31 0;
#X connect 22 0 16 0;
#X connect 23 0 15 0;
#X connect 25 0 8 0;
#X connect 27 0 29 0;
#X connect 28 0 27 0;
#X connect 29 0 26 0;
#X connect 31 0 32 0;
#X connect 33 0 13 0;
#X connect 34 0 35 0;
#X connect 35 0 36 0;
#X connect 37 0 38 1;
#X connect 39 0 38 0;
#X restore 10 69 pd init-display;
#N canvas 115 364 735 401 size 0;
#X msg 104 155 goprect 0 0 \$1 \$2;
#X obj 104 182 s pd-\$0-display;
#X obj 28 47 s \$0-size;
#X obj 26 76 r \$0-size;
#X obj 58 130 t a a a;
#X obj 81 246 s \$0-canvas;
#X obj 58 294 unpack f f, f 12;
#X obj 58 319 s \$0-width;
#X obj 139 319 s \$0-height;
#X obj 26 341 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 26 103 t b a;
#X msg 81 219 goprect 10 200 \$1 \$2;
#X obj 26 365 s \$0-update-geometry;
#X msg 94 21 400 20;
#X msg 28 22 200 15;
#X msg 167 21 800 30;
#X floatatom 173 54 5 0 0 0 - - - 0;
#X msg 148 87 400 \$1;
#X msg 234 62 14;
#X obj 352 94 setsize \$0-main marks, f 24;
#X obj 352 17 r \$0-width;
#X floatatom 395 42 5 0 0 0 - - - 0;
#X obj 517 66 r \$0-display-pointer;
#X obj 352 42 / 30;
#X obj 353 138 r \$0-width;
#X floatatom 400 167 5 0 0 0 - - - 0;
#X obj 546 191 r \$0-display-pointer;
#X obj 353 217 setsize \$0-main regions, f 28;
#X obj 353 163 / 10;
#X obj 352 69 i;
#X obj 395 68 s \$0-marks-count;
#X obj 400 190 s \$0-regions-count;
#X obj 353 187 i;
#X connect 0 0 1 0;
#X connect 3 0 10 0;
#X connect 4 0 6 0;
#X connect 4 1 11 0;
#X connect 4 2 0 0;
#X connect 6 0 7 0;
#X connect 6 1 8 0;
#X connect 9 0 12 0;
#X connect 10 0 9 0;
#X connect 10 1 4 0;
#X connect 11 0 5 0;
#X connect 13 0 2 0;
#X connect 14 0 2 0;
#X connect 15 0 2 0;
#X connect 16 0 17 0;
#X connect 17 0 2 0;
#X connect 18 0 16 0;
#X connect 20 0 23 0;
#X connect 22 0 19 1;
#X connect 23 0 29 0;
#X connect 24 0 28 0;
#X connect 26 0 27 1;
#X connect 28 0 32 0;
#X connect 29 0 19 0;
#X connect 29 0 21 0;
#X connect 29 0 30 0;
#X connect 32 0 27 0;
#X connect 32 0 25 0;
#X connect 32 0 31 0;
#X restore 10 92 pd size;
#N canvas 422 253 544 222 remote-control 0;
#X obj 27 89 t b a;
#X obj 59 141 s \$0-markcolor;
#X obj 27 14 r \$1-control;
#X obj 27 38 route timeline;
#X obj 27 62 route colors;
#X obj 27 182 s \$0-update;
#X obj 179 139 s \$0-boundcolor;
#X obj 59 114 unpack f f f f, f 52;
#X obj 299 140 s \$0-bg1color;
#X obj 420 140 s \$0-bg2color;
#X obj 142 50 loadbang;
#X msg 142 75 0 600 888 777;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 0 0;
#X connect 7 0 1 0;
#X connect 7 1 6 0;
#X connect 7 2 8 0;
#X connect 7 3 9 0;
#X connect 10 0 11 0;
#X connect 11 0 7 0;
#X restore 136 69 pd remote-control;
#N canvas 289 78 570 351 template-mark 0;
#X obj 78 72 struct \$0-mark float x float y float color list time;
#X obj 78 119 drawtext time x 0 color;
#X restore 10 31 pd template-mark;
#N canvas 648 58 802 384 \$0-display 0;
#X scalar 1005-main 0 \; 0 0 0 \;  \; 0.142389 0 0 \; 3 44.6 \; 0.339668 0 0 \; 3 44.65 \; 0 0 0 \;  \; 0 0 0 \;  \; 0 0 0 \;  \; 0 0 0 \;  \; 0 0 0 \;  \; 0 0 0 \;  \; 0 0 0 \;  \; 0 0 0 \;  \; 0 0 0 \;  \; 0 0 0 \;  \; \; 0 0 600 \; 3 44.565 \; 0.43875 0 600 \; 3 44.69 \; \; 0 0 0 0 0 \; \; 0.0025 0.0874993 0.25 13 888 \; 0.0874993 0.284778 0.25 13 777 \; 0.284778 0.482057 0.25 13 888 \; 0.482057 0.679336 0.25 13 777 \; 0.679336 0.876615 0.25 13 888 \; 0.876615 1 0.25 13 777 \; 1 1 0.25 13 888 \; 1 1 0.25 13 777 \; 1 1 0.25 13 888 \; 1 1 0.25 13 777 \; 1 1 0.25 13 888 \; 1 1 0.25 13 777 \; 1 1 0.25 13 888 \; 1 1 0.25 13 777 \; 1 1 0.25 13 888 \; 1 1 0.25 13 777 \; 1 1 0.25 13 888 \; 1 1 0.25 13 777 \; 1 1 0.25 13 888 \; 1 1 0.25 13 777 \; 1 1 0.25 13 888 \; 1 1 0.25 13 777 \; 1 1 0.25 13 888 \; 1 1 0.25 13 777 \; 1 1 0.25 13 888 \; 1 1 0.25 13 777 \; 1 1 0.25 13 888 \; 1 1 0.25 13 777 \; 1 1 0.25 13 888 \; 1 1 0.25 13 777 \; 1 1 0.25 13 888 \; 1 1 0.25 13 777 \; 1 1 0.25 13 888 \; 1 1 0.25 13 777 \; 1 1 0.25 13 888 \; 1 1 0.25 13 777 \; 1 1 0.25 13 888 \; 1 1 0.25 13 777 \; 1 1 0.25 13 888 \; 1 1 0.25 13 777 \; \;;
#X coords 0 0 1 1 400 14 2 0 0;
#X restore 10 200 pd \$0-display;
#N canvas 429 358 436 400 conversions 0;
#X obj 11 169 *;
#X obj 32 138 t b f;
#X obj 32 40 r \$0-zoom;
#X obj 11 15 r \$0-scroll;
#X obj 11 219 s \$0-startzoom;
#X obj 11 194 pack f 1, f 10;
#X text 9 246 sends: start zoom;
#X text 9 264 where 'start' is the [0 \, 1] position of the start of the displayed window., f 29;
#X text 9 315 The viewer hence displays samples from (start * table_len) to ((start + zoom) * table_len)., f 29;
#X obj 32 88 * -1;
#X obj 32 113 + 1;
#X obj 32 64 t f f, f 7;
#X obj 251 17 r \$0-table-size;
#X obj 270 41 r \$0-samplerate;
#X obj 251 92 / 44100;
#X obj 270 66 t b f;
#X obj 251 118 * 1000;
#X obj 251 144 s \$0-table-duration_ms;
#X connect 0 0 5 0;
#X connect 1 0 0 0;
#X connect 1 1 0 1;
#X connect 2 0 11 0;
#X connect 3 0 0 0;
#X connect 5 0 4 0;
#X connect 9 0 10 0;
#X connect 10 0 1 0;
#X connect 11 0 9 0;
#X connect 11 1 5 1;
#X connect 12 0 14 0;
#X connect 13 0 15 0;
#X connect 14 0 16 0;
#X connect 15 0 14 0;
#X connect 15 1 14 1;
#X connect 16 0 17 0;
#X restore 10 122 pd conversions;
#N canvas 583 358 590 267 import-from-view 0;
#X obj 18 13 r \$1-info;
#X obj 18 63 s \$0-table-size;
#X obj 181 16 r \$1-info;
#X obj 181 66 s \$0-scroll;
#X obj 270 66 s \$0-zoom;
#X obj 256 15 r \$1-control;
#X obj 17 115 r \$1-control;
#X obj 17 216 s \$0-size;
#X obj 17 165 unpack f;
#X obj 17 190 pack f f;
#X obj 89 165 r \$0-size;
#X obj 89 190 unpack f f;
#X obj 18 38 route tablesize;
#X obj 17 140 route size samplerate, f 48;
#X obj 183 166 s \$0-samplerate;
#X obj 181 41 route scroll zoom, f 26;
#X connect 0 0 12 0;
#X connect 2 0 15 0;
#X connect 5 0 15 0;
#X connect 6 0 13 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X connect 10 0 11 0;
#X connect 11 1 9 1;
#X connect 12 0 1 0;
#X connect 13 0 8 0;
#X connect 13 1 14 0;
#X connect 15 0 3 0;
#X connect 15 1 4 0;
#X restore 136 93 pd import-from-view;
#N canvas 880 347 873 833 spacing_calculation 0;
#X obj 78 62 r \$0-startzoom;
#X obj 32 124 unpack f f;
#X obj 32 189 *;
#X obj 99 188 *;
#X obj 131 323 log 10;
#X obj 99 271 t f f;
#X msg 131 399 10 \$1;
#X obj 131 424 pow;
#X obj 99 449 /, f 5;
#X obj 99 245 / 6, f 11;
#X obj 99 474 moses 2;
#X obj 145 499 moses 5;
#X msg 191 524 5;
#X msg 145 524 2;
#X msg 99 525 1;
#X obj 99 580 *, f 21;
#X obj 32 611 div;
#X obj 32 639 *;
#X obj 32 662 pack f f;
#X obj 50 152 r \$0-table-duration_ms;
#X text 62 736 first_ms spacing_ms;
#X obj 380 254 -;
#X obj 380 279 /;
#X obj 447 276 /;
#X obj 380 309 pack f f, f 10;
#X obj 484 214 unpack f f;
#X obj 64 715 s \$0-mark-spacing_ms;
#X obj 380 138 unpack f f;
#X obj 398 164 r \$0-table-duration_ms;
#X obj 380 214 /;
#X obj 447 214 /;
#X listbox 445 381 20 0 0 0 - - - 0;
#X obj 32 688 t a a;
#X obj 380 335 s \$0-mark-spacing_norm;
#X obj 215 187 / 70;
#X obj 131 296 * 10;
#X obj 131 374 - 1;
#X obj 131 349 i;
#X floatatom 325 363 11 0 0 0 - - - 0;
#X obj 32 89 list, f 7;
#X obj 32 37 b;
#X obj 260 10 r \$0-table-size;
#X obj 378 10 r \$0-size;
#X obj 260 40 b;
#X obj 260 65 s \$0-update-marks;
#X obj 310 42 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 452 9 r \$0-samplerate;
#X obj 265 437 * -1;
#X obj 265 487 moses 0;
#X msg 265 514 5;
#X obj 265 462 + 2;
#X obj 311 511 + 7;
#X obj 265 580 s \$0-mark-nb_chars;
#X obj 285 159 t b f;
#X floatatom 376 734 5 0 0 0 - - - 0;
#X obj 494 468 log 10;
#X obj 494 443 * 10;
#X obj 494 493 i;
#X floatatom 374 687 5 0 0 0 - - - 0;
#X obj 494 516 * -1;
#X obj 99 214 t f f, f 10;
#X obj 494 541 + 4;
#X obj 494 567 moses 0;
#X msg 494 594 5;
#X obj 540 591 + 7;
#X obj 494 620 * 7;
#X floatatom 494 645 5 0 0 1 est.\ mark\ width\ (px) - - 0;
#X obj 215 157 -;
#X obj 443 650 + 7;
#X obj 443 675 * 2;
#X obj 243 155 t b f;
#X obj 215 109 r \$0-width;
#X floatatom 329 156 5 0 0 0 - - - 0;
#X floatatom 188 609 5 0 0 0 - - - 0;
#X obj 186 247 f;
#X obj 186 218 / 1.4;
#X obj 285 135 + 30;
#X obj 239 686 r \$0-mark-nb_chars;
#X obj 239 736 s \$0-mark-width_px;
#X obj 239 711 * 7;
#X text 492 423 estimate the mark width;
#X text 438 692 remove bounds width (2 bounds \, 1 char longer than marks) from screen width, f 27;
#X text 260 418 final mark width(chars);
#X text 237 755 final mark width(px);
#X text 139 271 minimum mark spacing in ms;
#X text 247 186 max marks count;
#X obj 568 8 r \$0-startzoom;
#X obj 32 10 r \$0-compute_spacing;
#X obj 484 188 r \$0-startzoom;
#X obj 131 643 s \$0-spacing-division;
#X obj 99 553 t f f;
#X listbox 86 771 20 0 0 0 - - - 0;
#X obj 62 35 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X connect 0 0 39 1;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 2 0 16 0;
#X connect 3 0 60 0;
#X connect 4 0 37 0;
#X connect 5 0 8 0;
#X connect 5 1 35 0;
#X connect 6 0 7 0;
#X connect 7 0 8 1;
#X connect 7 0 15 1;
#X connect 8 0 10 0;
#X connect 9 0 5 0;
#X connect 10 0 14 0;
#X connect 10 1 11 0;
#X connect 11 0 13 0;
#X connect 11 1 12 0;
#X connect 12 0 90 0;
#X connect 13 0 90 0;
#X connect 14 0 90 0;
#X connect 15 0 16 1;
#X connect 15 0 17 1;
#X connect 15 0 18 1;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 32 0;
#X connect 19 0 2 1;
#X connect 19 0 3 1;
#X connect 21 0 22 0;
#X connect 21 0 38 0;
#X connect 22 0 24 0;
#X connect 23 0 24 1;
#X connect 24 0 31 0;
#X connect 24 0 33 0;
#X connect 25 0 21 1;
#X connect 25 1 23 1;
#X connect 25 1 22 1;
#X connect 27 0 29 0;
#X connect 27 1 30 0;
#X connect 28 0 29 1;
#X connect 28 0 30 1;
#X connect 29 0 21 0;
#X connect 30 0 23 0;
#X connect 32 0 27 0;
#X connect 32 1 26 0;
#X connect 32 1 91 0;
#X connect 34 0 75 0;
#X connect 35 0 4 0;
#X connect 36 0 6 0;
#X connect 36 0 47 0;
#X connect 37 0 36 0;
#X connect 39 0 1 0;
#X connect 40 0 39 0;
#X connect 41 0 43 0;
#X connect 42 0 43 0;
#X connect 43 0 44 0;
#X connect 45 0 43 0;
#X connect 46 0 43 0;
#X connect 47 0 50 0;
#X connect 48 0 49 0;
#X connect 48 1 51 0;
#X connect 49 0 52 0;
#X connect 50 0 48 0;
#X connect 51 0 52 0;
#X connect 53 0 34 0;
#X connect 53 1 34 1;
#X connect 53 1 72 0;
#X connect 55 0 57 0;
#X connect 56 0 55 0;
#X connect 57 0 59 0;
#X connect 59 0 61 0;
#X connect 60 0 9 0;
#X connect 60 1 56 0;
#X connect 61 0 62 0;
#X connect 62 0 63 0;
#X connect 62 1 64 0;
#X connect 63 0 65 0;
#X connect 64 0 65 0;
#X connect 65 0 66 0;
#X connect 65 0 68 0;
#X connect 65 0 76 0;
#X connect 67 0 34 0;
#X connect 68 0 69 0;
#X connect 69 0 70 0;
#X connect 70 0 67 0;
#X connect 70 1 67 1;
#X connect 71 0 67 0;
#X connect 74 0 9 1;
#X connect 75 0 74 0;
#X connect 76 0 53 0;
#X connect 77 0 79 0;
#X connect 77 0 58 0;
#X connect 79 0 78 0;
#X connect 79 0 54 0;
#X connect 86 0 43 0;
#X connect 87 0 40 0;
#X connect 88 0 25 0;
#X connect 90 0 15 0;
#X connect 90 1 89 0;
#X connect 90 1 73 0;
#X connect 92 0 40 0;
#X restore 287 68 pd spacing_calculation;
#N canvas 995 334 837 650 update_marks 0;
#X obj 87 590 text set -s \$0-mark time;
#X obj 371 589 set \$0-mark x color;
#X obj 389 179 unpack f f;
#X obj 371 205 f;
#X obj 404 206 +, f 7;
#X obj 27 106 until;
#X obj 27 81 f 20;
#X obj 105 219 unpack f f;
#X obj 87 255 f;
#X obj 132 255 +;
#X msg 27 157 next;
#X obj 105 193 r \$0-mark-spacing_ms;
#X obj 117 333 / 1000;
#X obj 117 360 moses 60;
#X obj 170 383 t f f, f 8;
#X obj 223 409 div 60;
#X obj 188 409 * 60;
#X obj 170 435 -;
#X obj 170 553 list prepend 0;
#X obj 371 381 moses 0;
#X obj 436 561 r \$0-markcolor;
#X obj 389 154 r \$0-mark-spacing_norm;
#X obj 87 307 route 0 1;
#X obj 87 281 list prepend 0;
#X msg 371 427 0;
#X msg 405 427 1;
#X obj 87 332 b;
#X obj 87 417 symbol;
#X obj 170 505 i;
#X obj 170 460 * 1000;
#X obj 170 528 / 1000;
#X obj 170 483 + 0.5;
#X obj 435 324 /;
#X obj 87 158 t b b, f 41;
#X obj 27 133 t b b, f 9;
#X obj 433 381 moses 0.9, f 21;
#X obj 371 498 * 0.5;
#X obj 435 299 list prepend 10;
#X obj 417 352 +;
#X obj 577 359 -;
#X obj 595 336 /;
#X obj 595 311 list prepend 70, f 17;
#X obj 679 207 r \$0-mark-width_px;
#X obj 435 272 r \$0-width;
#X obj 679 259 t b f;
#X obj 596 289 f;
#X obj 679 232 + 3;
#X obj 441 500 r \$0-display-pointer;
#X obj 297 525 element \$0-main marks;
#X obj 297 116 i;
#X obj 330 116 + 1;
#X msg 297 89 0;
#X obj 266 89 b;
#X obj 27 27 r \$0-update_marks;
#X obj 577 179 r \$0-bounds-right-start_%;
#X obj 417 244 r \$0-bounds-left-end_%;
#X obj 596 207 r \$0-width;
#X obj 342 465 f;
#X obj 27 56 t b b, f 39;
#X floatatom 618 399 5 0 0 0 - - - 0;
#X obj 68 81 r \$0-marks-count;
#X connect 2 0 3 1;
#X connect 2 1 4 1;
#X connect 3 0 4 0;
#X connect 3 0 19 0;
#X connect 4 0 3 1;
#X connect 5 0 34 0;
#X connect 6 0 5 0;
#X connect 7 0 8 1;
#X connect 7 1 9 1;
#X connect 8 0 9 0;
#X connect 8 0 23 0;
#X connect 9 0 8 1;
#X connect 10 0 52 0;
#X connect 11 0 7 0;
#X connect 12 0 13 0;
#X connect 13 0 0 0;
#X connect 13 1 14 0;
#X connect 14 0 17 0;
#X connect 14 1 15 0;
#X connect 15 0 16 0;
#X connect 15 0 18 1;
#X connect 16 0 17 1;
#X connect 17 0 29 0;
#X connect 18 0 0 0;
#X connect 19 0 24 0;
#X connect 19 1 35 0;
#X connect 20 0 1 1;
#X connect 21 0 2 0;
#X connect 22 0 26 0;
#X connect 22 1 12 0;
#X connect 23 0 22 0;
#X connect 24 0 57 0;
#X connect 24 0 36 0;
#X connect 25 0 57 0;
#X connect 26 0 27 0;
#X connect 27 0 0 0;
#X connect 28 0 30 0;
#X connect 29 0 31 0;
#X connect 30 0 18 0;
#X connect 31 0 28 0;
#X connect 32 0 38 1;
#X connect 33 0 8 0;
#X connect 33 1 3 0;
#X connect 34 0 10 0;
#X connect 34 1 33 0;
#X connect 35 0 25 0;
#X connect 35 0 36 0;
#X connect 35 1 24 0;
#X connect 36 0 1 0;
#X connect 37 0 32 0;
#X connect 38 0 19 1;
#X connect 39 0 35 1;
#X connect 39 0 59 0;
#X connect 40 0 39 1;
#X connect 41 0 40 0;
#X connect 42 0 46 0;
#X connect 43 0 37 0;
#X connect 44 0 45 0;
#X connect 44 1 41 1;
#X connect 45 0 41 0;
#X connect 46 0 44 0;
#X connect 47 0 48 1;
#X connect 48 0 0 3;
#X connect 48 0 1 2;
#X connect 49 0 50 0;
#X connect 49 0 48 0;
#X connect 50 0 49 1;
#X connect 51 0 49 0;
#X connect 52 0 49 0;
#X connect 53 0 58 0;
#X connect 54 0 39 0;
#X connect 55 0 38 0;
#X connect 56 0 45 0;
#X connect 57 0 23 1;
#X connect 58 0 6 0;
#X connect 58 1 51 0;
#X connect 60 0 6 1;
#X restore 287 121 pd update_marks;
#N canvas 238 682 712 300 template-main 0;
#X obj 21 39 struct \$0-main float x array marks \$0-mark array front-marks \$0-mark array front-regions \$0-region array regions \$0-region, f 68;
#X obj 25 129 plot regions 0 0 0 0 0;
#X obj 24 185 plot marks 0 0 0 0 0;
#X obj 25 212 plot front-marks 0 0 0 0 0;
#X restore 269 31 pd template-main;
#N canvas 1322 415 553 304 template-region 0;
#X obj 46 87 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 44 31 struct \$0-region float x1 float x2 float y float width float color;
#X obj 46 122 drawpolygon -x color width x1 y x2 y;
#X connect 0 0 2 0;
#X restore 133 31 pd template-region;
#N canvas 136 550 590 373 update_logic 0;
#X obj 64 22 r \$0-table-size;
#X obj 182 22 r \$0-size;
#X obj 64 52 b;
#X obj 114 54 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 256 21 r \$0-samplerate;
#X obj 372 20 r \$0-startzoom;
#X obj 64 77 s \$0-update;
#X obj 74 180 del 1;
#X obj 74 153 b;
#X obj 74 127 r \$0-update;
#X obj 74 205 t b b b b, f 34;
#X obj 309 231 s \$0-compute_spacing;
#X obj 152 300 s \$0-update_marks;
#X obj 230 272 s \$0-update_bounds;
#X obj 74 328 s \$0-update_regions;
#X connect 0 0 2 0;
#X connect 1 0 2 0;
#X connect 2 0 6 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 5 0 2 0;
#X connect 7 0 10 0;
#X connect 8 0 7 0;
#X connect 9 0 8 0;
#X connect 10 0 14 0;
#X connect 10 1 12 0;
#X connect 10 2 13 0;
#X connect 10 3 11 0;
#X restore 136 116 pd update_logic;
#N canvas 461 125 626 693 update_bounds 0;
#X obj 26 637 text set -s \$0-mark time;
#X obj 210 640 set \$0-mark x color;
#X obj 65 56 r \$0-startzoom;
#X obj 26 111 unpack f f;
#X obj 26 176 *;
#X obj 93 175 *;
#X obj 44 139 r \$0-table-duration_ms;
#X obj 26 201 t f f, f 8;
#X obj 79 227 +;
#X obj 26 229 / 1000;
#X obj 220 128 r \$0-mark-spacing_ms;
#X obj 220 153 unpack f f;
#X obj 287 177 / 10000;
#X obj 26 255 /;
#X obj 26 305 i;
#X obj 26 330 *;
#X obj 79 253 / 1000;
#X obj 79 279 /;
#X obj 79 329 i;
#X obj 79 354 *;
#X obj 26 379 pack f f;
#X text 91 380 bounds in seconds;
#X obj 26 406 unpack f f, f 15;
#X obj 210 611 * 0.5;
#X obj 26 461 t f b, f 35;
#X obj 79 304 + 0.1;
#X obj 26 280 + 0.9;
#N canvas 961 420 436 534 align_right 0;
#X obj 46 15 inlet;
#X obj 46 482 outlet text;
#X obj 265 486 outlet pos;
#X obj 46 41 moses 60;
#X obj 99 64 t f f, f 8;
#X obj 152 90 div 60;
#X obj 117 90 * 60;
#X obj 99 116 -;
#X obj 99 234 list prepend 0;
#X obj 99 186 i;
#X obj 99 141 * 1000;
#X obj 99 209 / 1000;
#X obj 99 164 + 0.5;
#X obj 46 271 t a a, f 26;
#X obj 225 296 list;
#X obj 225 321 fudiformat -u;
#X obj 225 346 list split 5;
#X obj 265 371 list length;
#X obj 265 396 * -7;
#X obj 265 421 +;
#X obj 265 454 /;
#X obj 305 395 r \$0-width;
#X connect 0 0 3 0;
#X connect 3 0 13 0;
#X connect 3 1 4 0;
#X connect 4 0 7 0;
#X connect 4 1 5 0;
#X connect 5 0 6 0;
#X connect 5 0 8 1;
#X connect 6 0 7 1;
#X connect 7 0 10 0;
#X connect 8 0 13 0;
#X connect 9 0 11 0;
#X connect 10 0 12 0;
#X connect 11 0 8 0;
#X connect 12 0 9 0;
#X connect 13 0 1 0;
#X connect 13 1 14 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 1 17 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 2 0;
#X connect 21 0 19 1;
#X connect 21 0 20 1;
#X restore 128 489 pd align_right;
#N canvas 436 379 516 492 align_left 0;
#X obj 46 15 inlet;
#X obj 46 452 outlet text;
#X obj 183 455 outlet pos;
#X obj 377 451 outlet size;
#X obj 46 41 moses 60;
#X obj 99 64 t f f, f 8;
#X obj 152 90 div 60;
#X obj 117 90 * 60;
#X obj 99 116 -;
#X obj 99 234 list prepend 0;
#X obj 99 186 i;
#X obj 99 141 * 1000;
#X obj 99 209 / 1000;
#X obj 99 164 + 0.5;
#X obj 46 271 t a a, f 42;
#X obj 337 299 list;
#X obj 337 324 fudiformat -u;
#X obj 337 349 list split 5;
#X obj 377 374 list length;
#X obj 377 427 /, f 5;
#X obj 377 399 * 7;
#X obj 46 377 t a b, f 20;
#X msg 183 406 0;
#X obj 409 399 r \$0-width;
#X connect 0 0 4 0;
#X connect 4 0 14 0;
#X connect 4 1 5 0;
#X connect 5 0 8 0;
#X connect 5 1 6 0;
#X connect 6 0 7 0;
#X connect 6 0 9 1;
#X connect 7 0 8 1;
#X connect 8 0 11 0;
#X connect 9 0 14 0;
#X connect 10 0 12 0;
#X connect 11 0 13 0;
#X connect 12 0 9 0;
#X connect 13 0 10 0;
#X connect 14 0 21 0;
#X connect 14 1 15 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 1 18 0;
#X connect 18 0 20 0;
#X connect 19 0 3 0;
#X connect 20 0 19 0;
#X connect 21 0 1 0;
#X connect 21 1 22 0;
#X connect 22 0 2 0;
#X connect 23 0 19 1;
#X restore 26 490 pd align_left;
#X obj 454 489 r \$0-display-pointer;
#X msg 268 486 0;
#X msg 307 486 1;
#X obj 268 516 element \$0-main front-marks;
#X obj 26 29 r \$0-update_bounds;
#X obj 26 54 b;
#X obj 128 430 t f b, f 26;
#X obj 114 572 s \$0-bounds-left-end_%;
#X obj 223 547 s \$0-bounds-right-start_%;
#X obj 275 613 r \$0-boundcolor;
#X obj 26 82 list, f 6;
#X connect 2 0 39 1;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 7 0;
#X connect 5 0 8 1;
#X connect 6 0 4 1;
#X connect 6 0 5 1;
#X connect 7 0 9 0;
#X connect 7 1 8 0;
#X connect 8 0 16 0;
#X connect 9 0 13 0;
#X connect 10 0 11 0;
#X connect 11 1 12 0;
#X connect 12 0 13 1;
#X connect 12 0 15 1;
#X connect 12 0 17 1;
#X connect 12 0 19 1;
#X connect 13 0 26 0;
#X connect 14 0 15 0;
#X connect 15 0 20 0;
#X connect 16 0 17 0;
#X connect 17 0 25 0;
#X connect 18 0 19 0;
#X connect 19 0 20 1;
#X connect 20 0 22 0;
#X connect 22 0 24 0;
#X connect 22 1 35 0;
#X connect 23 0 1 0;
#X connect 24 0 28 0;
#X connect 24 1 30 0;
#X connect 25 0 18 0;
#X connect 26 0 14 0;
#X connect 27 0 0 0;
#X connect 27 1 23 0;
#X connect 27 1 37 0;
#X connect 28 0 0 0;
#X connect 28 1 23 0;
#X connect 28 2 36 0;
#X connect 29 0 32 1;
#X connect 30 0 32 0;
#X connect 31 0 32 0;
#X connect 32 0 0 3;
#X connect 32 0 1 2;
#X connect 33 0 34 0;
#X connect 34 0 39 0;
#X connect 35 0 27 0;
#X connect 35 1 31 0;
#X connect 38 0 1 1;
#X connect 39 0 3 0;
#X restore 285 94 pd update_bounds;
#N canvas 448 275 638 493 update_regions 0;
#X obj 27 106 until;
#X obj 27 81 f 20;
#X obj 27 133 t b b;
#X obj 297 116 i;
#X obj 330 116 + 1;
#X msg 297 89 0;
#X obj 266 89 b;
#X obj 27 56 t b b, f 39;
#X obj 294 434 element \$0-main regions;
#X obj 368 34 r \$0-mark-spacing_norm;
#X obj 469 62 r \$0-spacing-division;
#X obj 469 137 f;
#X obj 368 114 unpack f f;
#X obj 435 165 /;
#X obj 452 409 r \$0-display-pointer;
#X obj 59 460 set \$0-region x1 x2 y width color;
#X obj 59 249 *;
#X obj 59 221 f;
#X obj 59 274 +;
#X obj 59 302 t f f;
#X obj 91 326 +;
#X obj 241 322 mod 2;
#X obj 241 347 sel 0 1, f 14;
#X obj 195 295 r \$0-height;
#X msg 150 434 0.25;
#X obj 68 81 r \$0-regions-count;
#X obj 469 87 sel 5;
#X msg 502 112 2;
#X obj 91 354 clip 0 1;
#X obj 59 381 clip 0 1;
#X obj 150 407 loadbang;
#X obj 141 261 list prepend 1;
#X obj 141 286 /;
#X obj 141 236 r \$0-width;
#X obj 195 382 - 1;
#X msg 469 112 2;
#X obj 27 27 r \$0-update_regions;
#X obj 273 371 r \$0-bg1color;
#X obj 376 371 r \$0-bg2color;
#X obj 241 397 f 888;
#X obj 288 397 f 777, f 13;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 2 0 6 0;
#X connect 2 1 17 0;
#X connect 3 0 4 0;
#X connect 3 0 8 0;
#X connect 3 0 17 1;
#X connect 3 0 21 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X connect 6 0 3 0;
#X connect 7 0 1 0;
#X connect 7 1 5 0;
#X connect 8 0 15 5;
#X connect 9 0 12 0;
#X connect 10 0 26 0;
#X connect 11 0 13 1;
#X connect 12 0 18 1;
#X connect 12 1 13 0;
#X connect 13 0 16 1;
#X connect 13 0 20 1;
#X connect 14 0 8 1;
#X connect 16 0 18 0;
#X connect 17 0 16 0;
#X connect 18 0 19 0;
#X connect 19 0 29 0;
#X connect 19 1 20 0;
#X connect 20 0 28 0;
#X connect 21 0 22 0;
#X connect 22 0 39 0;
#X connect 22 1 40 0;
#X connect 23 0 34 0;
#X connect 24 0 15 2;
#X connect 25 0 1 1;
#X connect 26 0 35 0;
#X connect 26 1 27 0;
#X connect 27 0 11 0;
#X connect 28 0 15 1;
#X connect 29 0 15 0;
#X connect 30 0 24 0;
#X connect 31 0 32 0;
#X connect 32 0 29 1;
#X connect 32 0 28 1;
#X connect 33 0 31 0;
#X connect 34 0 15 3;
#X connect 35 0 11 0;
#X connect 36 0 7 0;
#X connect 37 0 39 1;
#X connect 38 0 40 1;
#X connect 39 0 15 4;
#X connect 40 0 15 4;
#X restore 287 146 pd update_regions;
#X coords 0 -1 1 1 400 14 2 10 200;
