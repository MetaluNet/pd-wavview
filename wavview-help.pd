#N struct 1005-array float x array bars 1005-bar 400 array regions 1005-region 3 array fgregions 1005-region 1;
#N struct 1005-bar float pos float min float max float width float color;
#N struct 1005-region float x1 float x2 float y float width float color;
#N struct 1006-array float x array bars 1006-bar 400 array regions 1006-region 3 array fgregions 1006-region 1;
#N struct 1006-bar float pos float min float max float width float color;
#N struct 1006-region float x1 float x2 float y float width float color;
#N canvas 581 87 822 612 12;
#N canvas 0 0 450 250 (subpatch) 0;
#X array \$0-table 62079 float 2;
#A color 0;
#A width 2;
#X coords 0 1 62079 -1 400 180 1 0 0;
#X restore 22 64 graph;
#X obj 593 56 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 741 15 loadbang;
#X msg 741 40 \; pd dsp 1;
#X obj 593 245 symbol \$0-table;
#X obj 593 217 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 454 77 symbol voice.wav;
#X obj 474 102 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 474 127 openpanel;
#N canvas 258 241 618 627 loop-selection 0;
#X obj 172 98 t b s, f 11;
#X obj 132 191 array size;
#X obj 47 98 unpack f f;
#X obj 47 127 sel, f 6;
#X msg 47 152 0 1;
#X obj 47 180 pack f f;
#X obj 47 208 unpack f f;
#X obj 47 233 *;
#X obj 114 233 *;
#X obj 47 415 phasor~;
#X obj 47 258 t f f, f 12;
#X msg 47 362 44100 \$1;
#X obj 47 388 /;
#X obj 47 440 *~, f 10;
#X obj 47 465 +~, f 12;
#X obj 47 494 tabread~;
#X msg 246 304 set \$1;
#X obj 47 286 * -1;
#X obj 47 310 +, f 10;
#X obj 48 524 outlet~;
#X obj 47 337 t f f, f 10;
#X obj 172 124 t b b;
#X obj 196 509 snapshot~;
#X obj 209 438 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 196 534 /;
#X obj 209 463 metro 40;
#X obj 47 17 r \$0-view-info;
#X obj 47 60 route select;
#X obj 155 17 r \$0-view-control;
#X obj 172 50 route table;
#X obj 196 588 s \$0-view-control;
#X msg 196 559 index \$1;
#X obj 299 76 r \$0-view-info;
#X obj 299 101 route index;
#X obj 330 130 unpack f f;
#X obj 299 158 -;
#X obj 330 160 * -1;
#X obj 330 185 +;
#X obj 299 183 /;
#X obj 299 208 clip 0 1;
#X msg 266 431 40;
#X obj 172 74 symbol;
#X obj 409 175 r \$0-view-control;
#X obj 409 200 route index;
#X obj 409 225 spigot;
#X obj 460 225 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X msg 409 252 scroll \$1;
#X obj 409 277 s \$0-view-control;
#X obj 460 113 > 1;
#X obj 426 113 > 0;
#X obj 426 22 inlet none/index/follow;
#X obj 312 17 loadbang;
#X msg 312 42 0 0;
#X connect 0 0 21 0;
#X connect 0 1 1 1;
#X connect 0 1 16 0;
#X connect 1 0 7 1;
#X connect 1 0 8 1;
#X connect 1 0 24 1;
#X connect 2 0 3 0;
#X connect 2 1 3 1;
#X connect 2 1 5 1;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 5 0 34 0;
#X connect 6 0 7 0;
#X connect 6 1 8 0;
#X connect 7 0 10 0;
#X connect 8 0 18 1;
#X connect 9 0 13 0;
#X connect 10 0 17 0;
#X connect 10 1 14 1;
#X connect 11 0 12 0;
#X connect 12 0 9 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 14 0 22 0;
#X connect 15 0 19 0;
#X connect 16 0 15 0;
#X connect 17 0 18 0;
#X connect 18 0 20 0;
#X connect 20 0 11 0;
#X connect 20 1 13 1;
#X connect 21 0 5 0;
#X connect 21 1 1 0;
#X connect 22 0 24 0;
#X connect 23 0 25 0;
#X connect 24 0 31 0;
#X connect 25 0 22 0;
#X connect 26 0 27 0;
#X connect 27 0 2 0;
#X connect 28 0 27 0;
#X connect 28 0 29 0;
#X connect 29 0 41 0;
#X connect 31 0 30 0;
#X connect 32 0 33 0;
#X connect 33 0 35 0;
#X connect 34 0 35 1;
#X connect 34 0 36 0;
#X connect 34 1 37 1;
#X connect 35 0 38 0;
#X connect 36 0 37 0;
#X connect 37 0 38 1;
#X connect 38 0 39 0;
#X connect 39 0 9 1;
#X connect 40 0 25 1;
#X connect 41 0 0 0;
#X connect 42 0 43 0;
#X connect 43 0 44 0;
#X connect 44 0 46 0;
#X connect 45 0 44 1;
#X connect 46 0 47 0;
#X connect 48 0 45 0;
#X connect 49 0 23 0;
#X connect 50 0 49 0;
#X connect 50 0 48 0;
#X connect 51 0 52 0;
#X connect 52 0 2 0;
#X restore 440 366 pd loop-selection;
#X obj 441 395 output~;
#X msg 791 356 0 0;
#N canvas 360 437 292 223 load_sample 0;
#X obj 38 114 soundfiler;
#X obj 38 62 list append \$0-table;
#X msg 38 86 read -resize \$1 \$2;
#X obj 38 139 b;
#X obj 38 164 outlet;
#X obj 38 33 inlet;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 3 0 4 0;
#X connect 5 0 1 0;
#X restore 454 180 pd load_sample;
#N canvas 551 460 237 382 synth_osc 0;
#X obj 84 136 s \$0-table;
#X obj 43 286 tabwrite~ \$0-table;
#X obj 44 183 line~;
#X obj 44 208 mtof~;
#X obj 44 233 osc~;
#X obj 24 38 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 44 158 0 \, 80 1000;
#X obj 45 258 *~;
#X obj 84 256 osc~ 3;
#X obj 84 88 samplerate~;
#X msg 84 111 resize \$1;
#X obj 24 314 del 1001;
#X obj 24 339 outlet;
#X obj 24 11 inlet;
#X obj 24 64 t b b b b;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 7 0;
#X connect 5 0 14 0;
#X connect 6 0 2 0;
#X connect 7 0 1 0;
#X connect 8 0 7 1;
#X connect 9 0 10 0;
#X connect 10 0 0 0;
#X connect 11 0 12 0;
#X connect 13 0 5 0;
#X connect 14 0 11 0;
#X connect 14 1 6 0;
#X connect 14 2 1 0;
#X connect 14 3 9 0;
#X restore 593 143 pd synth_osc;
#N canvas 418 405 254 399 synth_noise 0;
#X obj 52 284 tabwrite~ \$0-table;
#X obj 52 200 line~;
#X obj 32 54 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 52 175 0 \, 1 1000;
#X obj 52 225 *~;
#X obj 98 201 noise~;
#X obj 52 252 *~;
#X obj 91 250 osc~ 2;
#X obj 92 153 s \$0-table;
#X obj 92 105 samplerate~;
#X msg 92 128 resize \$1;
#X obj 32 320 del 1001;
#X obj 32 80 t b b b b;
#X obj 32 345 outlet;
#X obj 32 27 inlet;
#X connect 1 0 4 0;
#X connect 2 0 12 0;
#X connect 3 0 1 0;
#X connect 4 0 6 0;
#X connect 5 0 4 1;
#X connect 6 0 0 0;
#X connect 7 0 6 1;
#X connect 9 0 10 0;
#X connect 10 0 8 0;
#X connect 11 0 13 0;
#X connect 12 0 11 0;
#X connect 12 1 3 0;
#X connect 12 2 0 0;
#X connect 12 3 9 0;
#X connect 14 0 2 0;
#X restore 702 144 pd synth_noise;
#X obj 702 59 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X text 616 217 update view table;
#X text 209 455 mouse + shift: zoom;
#X obj 20 12 cnv 20 340 30 empty empty wavview\ -\ a\ waveform\ viewer\ for\ Pd 10 18 2 20 #e0e0e0 #404040 0;
#X text 455 12 First load a waveform:;
#X text 22 456 mouse: select;
#X text 22 468 mouse + control: scroll;
#X msg 730 357 0.647 1;
#X msg 655 357 0.36 0.56;
#X msg 592 357 0.1 0.2;
#X obj 454 53 loadbang;
#N canvas 73 430 547 283 colors 0;
#X text 18 56 default;
#X text 37 101 monitor;
#X obj 18 245 s \$0-view-control;
#X text 51 146 dark;
#X msg 18 74 colors 999 0 333 666 555 700;
#X msg 36 119 colors 30 90 60 20 70 0;
#X msg 50 164 colors 0 445 200 666 4 500;
#X text 12 19 colors: background wave selected_background selected_wave scrollbar index, f 74;
#X text 61 189 colored;
#X msg 69 207 colors 37 990 84 900 305 850;
#X connect 4 0 2 0;
#X connect 5 0 2 0;
#X connect 6 0 2 0;
#X connect 9 0 2 0;
#X restore 24 527 pd colors;
#N canvas 1094 389 315 180 size 0;
#X obj 43 107 s \$0-view-control;
#X msg 146 50 size 150 80;
#X msg 155 74 size 150 40;
#X msg 43 50 size 400 180;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X restore 24 554 pd size;
#X obj 22 274 wavview \$0-view 400 180;
#X text 24 254 wavview \$0-view 400 180;
#X msg 593 270 table \$1;
#X obj 593 295 s \$0-view-control;
#X obj 592 411 s \$0-view-control;
#X msg 592 382 select \$1 \$2;
#X text 209 469 mouse + shift + control: index;
#X obj 474 152 symbol;
#X obj 525 152 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 440 301 vradio 20 1 0 3 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0;
#X text 462 301 none;
#X text 463 322 show index;
#X text 462 341 follow index;
#X obj 107 542 cnv 20 290 40 empty empty empty 20 12 0 12 #ffc7c6 #404040 0;
#X obj 442 482 cnv 20 350 100 empty empty empty 20 12 0 12 #c6ffc7 #404040 0;
#X obj 450 534 pdcontrol;
#X msg 450 504 browse https://github.com/metalunet/pd-wavview;
#X text 447 557 antoine@metalu.net 2025;
#X text 447 481 project page (report issues there):;
#X text 112 545 Note: wavview resize requires Pd >= 0.56 (for the new "goprect" command), f 41;
#N canvas 23 118 553 466 navigation-controls 0;
#X obj 20 122 hsl 200 20 0 1 0 0 empty empty empty -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X msg 17 97 set \$1;
#X obj 17 173 s \$0-view-control;
#X msg 17 147 scroll \$1;
#X msg 253 149 zoom \$1;
#X obj 253 173 s \$0-view-control;
#X obj 17 47 r \$0-view-info;
#X obj 17 72 route scroll;
#X obj 18 316 hsl 200 20 0 1 0 0 empty empty empty -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X msg 15 291 set \$1;
#X obj 15 367 s \$0-view-control;
#X obj 15 241 r \$0-view-info;
#X obj 15 266 route index;
#X msg 15 341 index \$1;
#X obj 256 312 hsl 170 20 0 1 0 0 empty empty empty -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 256 335 hsl 170 20 0 1 0 0 empty empty empty -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 253 387 pack f f;
#X obj 274 363 t b f;
#X text 429 313 start point;
#X text 429 333 end point;
#X obj 253 437 s \$0-view-control;
#X msg 253 411 select \$1 \$2;
#X obj 256 122 hsl 200 20 0.001 1 1 0 empty empty empty -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X msg 253 95 set \$1;
#X obj 253 46 r \$0-view-info;
#X obj 253 71 route zoom;
#X msg 368 59 1;
#X msg 368 85 0.2;
#X floatatom 320 149 8 0 0 0 - - - 0;
#X text 397 62 fullscreen;
#X text 400 85 20% of data visible;
#X listbox 349 232 20 0 0 0 - - - 0;
#X obj 253 206 r \$0-view-info;
#X obj 253 231 route select;
#X obj 253 256 unpack f f;
#X msg 253 281 set \$1;
#X msg 320 280 set \$1;
#X msg 112 286 -1;
#X text 15 8 All navigation controls are [0 \, 1] normalized.;
#X text 141 286 hide index;
#X msg 349 382 0 0;
#X text 375 380 select none;
#X msg 349 359 0 1;
#X text 375 357 select all;
#X connect 0 0 3 0;
#X connect 1 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 5 0;
#X connect 6 0 7 0;
#X connect 7 0 1 0;
#X connect 8 0 13 0;
#X connect 9 0 8 0;
#X connect 11 0 12 0;
#X connect 12 0 9 0;
#X connect 13 0 10 0;
#X connect 14 0 16 0;
#X connect 15 0 17 0;
#X connect 16 0 21 0;
#X connect 17 0 16 0;
#X connect 17 1 16 1;
#X connect 21 0 20 0;
#X connect 22 0 4 0;
#X connect 22 0 28 0;
#X connect 23 0 22 0;
#X connect 24 0 25 0;
#X connect 25 0 23 0;
#X connect 26 0 4 0;
#X connect 27 0 4 0;
#X connect 32 0 33 0;
#X connect 33 0 31 0;
#X connect 33 0 34 0;
#X connect 34 0 35 0;
#X connect 34 1 36 0;
#X connect 35 0 14 0;
#X connect 36 0 15 0;
#X connect 37 0 13 0;
#X connect 40 0 21 0;
#X connect 42 0 21 0;
#X restore 24 501 pd navigation-controls;
#N canvas 38 27 852 376 linked_table_caching 0;
#X obj 314 250 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 314 303 table \$1;
#X obj 314 278 symbol \$0-table2;
#X obj 314 328 s \$0-table2view-control;
#X obj 577 193 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 577 246 table \$1;
#X obj 577 221 symbol \$0-table2;
#X obj 577 271 s \$0-view-control;
#N canvas 396 321 520 465 make_random_table2 0;
#X obj 40 98 noise~;
#X obj 40 273 *~;
#X obj 41 326 tabwrite~ \$0-table2;
#X obj 318 261 s \$0-table2;
#X obj 318 209 * 44100;
#X msg 318 236 resize \$1;
#X obj 58 123 noise~;
#X obj 58 173 *~, f 11;
#X obj 132 122 noise~;
#X obj 141 270 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 58 220 *~ 5000;
#X msg 364 54 100;
#X msg 401 236 const 0;
#X msg 288 55 2;
#X msg 253 55 1;
#X obj 132 147 lop~ 64;
#X obj 58 148 lop~ 640;
#X obj 58 197 lop~ 320;
#X obj 57 246 clip~ -1 1;
#X msg 406 53 300;
#X obj 227 410 switch~ 4096 1 64;
#X obj 227 385 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 318 136 t f b, f 7;
#X obj 364 160 samplerate~;
#X obj 244 110 t f f, f 11;
#X obj 244 264 / 64;
#X obj 244 289 * 1000;
#X obj 244 334 del;
#X msg 244 359 0;
#X msg 210 358 1;
#X msg 327 54 10;
#X obj 184 300 del 0;
#X obj 214 205 b;
#X obj 244 22 inlet;
#X obj 359 409 outlet finished;
#X obj 244 312 + 100;
#X obj 364 185 / 64;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X connect 6 0 16 0;
#X connect 7 0 17 0;
#X connect 8 0 15 0;
#X connect 9 0 2 0;
#X connect 10 0 18 0;
#X connect 11 0 24 0;
#X connect 12 0 3 0;
#X connect 13 0 24 0;
#X connect 14 0 24 0;
#X connect 15 0 7 1;
#X connect 16 0 7 0;
#X connect 17 0 10 0;
#X connect 18 0 1 1;
#X connect 19 0 24 0;
#X connect 21 0 20 0;
#X connect 22 0 4 0;
#X connect 22 1 23 0;
#X connect 23 0 36 0;
#X connect 24 0 25 0;
#X connect 24 0 9 0;
#X connect 24 0 32 0;
#X connect 24 1 22 0;
#X connect 25 0 26 0;
#X connect 26 0 35 0;
#X connect 27 0 28 0;
#X connect 27 0 34 0;
#X connect 28 0 21 0;
#X connect 29 0 21 0;
#X connect 30 0 24 0;
#X connect 31 0 29 0;
#X connect 32 0 31 0;
#X connect 33 0 24 0;
#X connect 35 0 27 0;
#X connect 36 0 4 1;
#X restore 314 214 pd make_random_table2;
#X text 30 11 A wavview instance can be linked to a specific table \, by specifiying the name of this table as a 4th argument.;
#X text 312 105 Example:;
#X text 312 131 1: resize table2 to a large number and fill it with random data:, f 35;
#X msg 395 183 1;
#X text 424 183 1s;
#X obj 7 165 table \$0-table2;
#X msg 314 185 180;
#X text 342 184 3mn;
#X text 31 48 This "private" view will cache the peaks buffers \, and any other wavview that need to show this data will use these buffers.;
#X text 336 237 when done \, update the private view, f 24;
#X text 575 132 2: show table2 to the main view \; use data precalculated by the private view: the operation is fast., f 38;
#X text 7 188 wavview \$0-table2view 200 80 \$0-table2;
#X obj 6 208 wavview \$0-table2view 200 80 \$0-table2;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 4 0 6 0;
#X connect 5 0 7 0;
#X connect 6 0 5 0;
#X connect 8 0 0 0;
#X connect 12 0 8 0;
#X connect 15 0 8 0;
#X restore 217 502 pd linked_table_caching;
#X connect 1 0 13 0;
#X connect 2 0 3 0;
#X connect 4 0 30 0;
#X connect 5 0 4 0;
#X connect 6 0 12 0;
#X connect 7 0 8 0;
#X connect 8 0 35 0;
#X connect 9 0 10 0;
#X connect 11 0 33 0;
#X connect 12 0 5 0;
#X connect 13 0 5 0;
#X connect 14 0 5 0;
#X connect 15 0 14 0;
#X connect 22 0 33 0;
#X connect 23 0 33 0;
#X connect 24 0 33 0;
#X connect 25 0 6 0;
#X connect 30 0 31 0;
#X connect 33 0 32 0;
#X connect 35 0 12 0;
#X connect 36 0 35 0;
#X connect 37 0 9 0;
#X connect 44 0 43 0;
